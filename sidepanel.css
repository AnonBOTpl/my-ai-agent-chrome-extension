/* ============================================================
   ZMIENNE
   ============================================================ */
:root {
  --bg-body:#f9f9f9; --bg-header:#ffffff; --bg-msg-user:#e8f0fe;
  --bg-msg-ai:#ffffff; --bg-secondary:#f1f1f1; --bg-dropzone:#fdfdfd;
  --text-main:#333333; --text-secondary:#555555; --border:#dddddd;
  --accent:#4285f4; --accent-hover:#357abd;
  --btn-bg:#ffffff; --btn-hover:#f0f6ff;
  --snippet-bg:#f0f6ff; --snippet-border:#c5d8fd;
  --settings-section-bg:#f8f9fa; --settings-section-border:#e8eaed;
  --info-bg:#fff8e1; --info-border:#ffe082; --info-text:#795548;
  --danger:#e57373; --danger-hover:#c62828;
  --success:#34a853;
  --font-size-chat: 14px;
  --font-size-ui: 13px;
}
body.dark-theme {
  --bg-body:#1e1e1e; --bg-header:#2d2d2d; --bg-msg-user:#3c4043;
  --bg-msg-ai:#2d2d2d; --bg-secondary:#2d2d2d; --bg-dropzone:#252525;
  --text-main:#e8eaed; --text-secondary:#9aa0a6; --border:#3c4043;
  --accent:#8ab4f8; --accent-hover:#aecbfa;
  --btn-bg:#2d2d2d; --btn-hover:#3c4043;
  --snippet-bg:#2a3040; --snippet-border:#3c4a6e;
  --settings-section-bg:#252525; --settings-section-border:#3c4043;
  --info-bg:#2a2500; --info-border:#5c4600; --info-text:#ffcc80;
}

/* Font size variants */
body.font-small  { --font-size-chat:12px; --font-size-ui:11px; }
body.font-medium { --font-size-chat:14px; --font-size-ui:13px; }
body.font-large  { --font-size-chat:16px; --font-size-ui:14px; }

* { box-sizing:border-box; }
body { margin:0; padding:0; font-family:'Segoe UI',sans-serif; display:flex; flex-direction:column; height:100vh; background:var(--bg-body); color:var(--text-main); transition:background .3s,color .3s; font-size:var(--font-size-ui); }

/* ══ HEADER ══════════════════════════════════════════════════ */
header { display:flex; justify-content:space-between; align-items:center; padding:8px 15px; background:var(--bg-header); border-bottom:1px solid var(--border); flex-shrink:0; gap:8px; }
.logo-area { display:flex; align-items:center; gap:8px; font-weight:bold; color:var(--accent); flex-shrink:0; }
.logo-area img { width:20px; }
.header-center { flex:1; display:flex; justify-content:center; }
.header-right { display:flex; align-items:center; gap:6px; flex-shrink:0; }
.header-right button { background:none; border:none; cursor:pointer; font-size:18px; color:var(--text-secondary); padding:6px; border-radius:50%; transition:.2s; }
.header-right button:hover { background:var(--bg-secondary); }

/* ══ MODEL QUICKSWITCH ═══════════════════════════════════════ */
.model-quick-switch { position:relative; }
.model-switch-btn {
  display:flex; align-items:center; gap:5px;
  background:var(--bg-secondary); border:1px solid var(--border);
  border-radius:20px; padding:4px 12px; cursor:pointer;
  font-size:12px; font-weight:600; color:var(--text-main);
  transition:.2s; white-space:nowrap; max-width:200px;
}
.model-switch-btn:hover { background:var(--bg-header); filter:brightness(1.1); }
.model-switch-arrow { font-size:10px; opacity:0.6; }
.model-switch-dropdown {
  position:absolute; top:calc(100% + 6px); left:50%; transform:translateX(-50%);
  background:var(--bg-header); border:1px solid var(--border);
  border-radius:10px; box-shadow:0 8px 24px rgba(0,0,0,0.25);
  min-width:200px; z-index:1000; overflow:hidden; padding:6px 0;
}
.qs-group-label {
  font-size:10px; font-weight:700; letter-spacing:0.8px;
  text-transform:uppercase; padding:8px 14px 4px;
  opacity:0.8;
}
.qs-item {
  display:block; width:100%; text-align:left;
  background:none; border:none; cursor:pointer;
  padding:7px 14px; font-size:13px; color:var(--text-main);
  transition:.15s;
}
.qs-item:hover { background:var(--bg-secondary); }
.qs-item-active { font-weight:700; color:var(--accent); }
.qs-item-active::before { content:'✓ '; }

/* ══ SYSTEM PROMPT TEXTAREAS ═════════════════════════════════ */
.system-prompt-textarea {
  width:100%; padding:8px 10px;
  background:var(--bg-secondary); border:1px solid var(--border);
  border-radius:6px; color:var(--text-main);
  font-size:12px; font-family:inherit; resize:vertical;
  transition:.2s;
}
.system-prompt-textarea:focus { border-color:var(--accent); outline:none; }
#btnStopTTS { color:var(--danger); }
.token-counter { font-size:11px; color:var(--text-secondary); background:var(--bg-secondary); border:1px solid var(--border); border-radius:10px; padding:2px 8px; white-space:nowrap; }

/* ══ TABS ════════════════════════════════════════════════════ */
.tabs { display:flex; background:var(--bg-header); border-bottom:1px solid var(--border); flex-shrink:0; }
.tab-btn { flex:1; padding:10px; border:none; background:none; cursor:pointer; font-weight:600; color:var(--text-secondary); border-bottom:3px solid transparent; font-size:var(--font-size-ui); transition:.2s; }
.tab-btn:hover { background:var(--bg-secondary); }
.tab-btn.active { color:var(--accent); border-bottom-color:var(--accent); }
.tab-content { display:none; flex:1; overflow-y:auto; padding:12px 15px 15px; flex-direction:column; }
.tab-content.active { display:flex; }

.sub-tabs { display:flex; border-bottom:1px solid var(--border); margin-bottom:12px; flex-shrink:0; }
.sub-tab-btn { flex:1; padding:8px; border:none; background:none; cursor:pointer; font-size:12px; font-weight:600; color:var(--text-secondary); border-bottom:2px solid transparent; transition:.2s; }
.sub-tab-btn:hover { background:var(--bg-secondary); }
.sub-tab-btn.active { color:var(--accent); border-bottom-color:var(--accent); }
.sub-content { display:none; flex-direction:column; flex:1; }
.sub-content.active { display:flex; }

/* ══ CHAT ════════════════════════════════════════════════════ */
#chat-toolbar { display:flex; justify-content:flex-end; gap:6px; padding-bottom:6px; flex-shrink:0; }
#chat-toolbar button { background:none; border:1px solid var(--border); border-radius:6px; color:var(--text-secondary); font-size:11px; padding:4px 10px; cursor:pointer; transition:.2s; }
#chat-toolbar button:hover { background:var(--bg-secondary); }
#btnClearChat:hover { background:#fce8e6 !important; border-color:var(--danger) !important; color:var(--danger-hover) !important; }
body.dark-theme #btnClearChat:hover { background:#3e2020 !important; }

#chat-container { flex:1; overflow-y:auto; display:flex; flex-direction:column; gap:10px; padding-bottom:8px; }

.message { max-width:85%; padding:10px 14px; border-radius:12px; font-size:var(--font-size-chat); line-height:1.55; word-wrap:break-word; position:relative; }
.user-msg { align-self:flex-end; background:var(--bg-msg-user); }
.ai-msg   { align-self:flex-start; background:var(--bg-msg-ai); border:1px solid var(--border); }

/* Kursor streaming */
.cursor { display:inline-block; animation:blink .8s step-end infinite; color:var(--accent); }
@keyframes blink { 50%{opacity:0} }
.cursor-fadeout { display:inline-block; color:var(--accent); animation:fadeOut .4s ease-out forwards; }
@keyframes fadeOut { from{opacity:1} to{opacity:0;width:0;overflow:hidden} }

/* Przycisk kopiowania wiadomości */
.copy-btn { position:absolute; bottom:6px; right:6px; background:none; border:none; cursor:pointer; font-size:13px; opacity:0; transition:opacity .2s; padding:2px 5px; border-radius:4px; }
.message:hover .copy-btn { opacity:1; }
.copy-btn:hover { background:var(--bg-secondary); }

/* Akcje wiadomości user (edytuj) */
.msg-actions { position:absolute; top:6px; right:6px; display:flex; gap:4px; opacity:0; transition:opacity .2s; }
.user-msg:hover .msg-actions { opacity:1; }
.msg-action-btn { background:rgba(0,0,0,.12); border:none; border-radius:4px; cursor:pointer; font-size:12px; padding:2px 6px; color:var(--text-main); transition:.15s; }
.msg-action-btn:hover { background:rgba(0,0,0,.22); }
body.dark-theme .msg-action-btn { background:rgba(255,255,255,.12); }

/* Przycisk Regeneruj pod wiadomością AI */
.regenerate-btn { display:inline-flex; align-items:center; gap:4px; margin-top:6px; padding:3px 10px; font-size:11px; background:none; border:1px solid var(--border); border-radius:12px; color:var(--text-secondary); cursor:pointer; transition:.2s; align-self:flex-start; }
.regenerate-btn:hover { border-color:var(--accent); color:var(--accent); background:var(--btn-hover); }
.regenerate-btn-wrap { align-self:flex-start; }

/* Snippety */
#prompt-snippets { display:flex; flex-wrap:wrap; gap:5px; padding:5px 0 4px; flex-shrink:0; }
.snippet-btn { font-size:11px; padding:4px 9px; border-radius:12px; border:1px solid var(--snippet-border); background:var(--snippet-bg); color:var(--accent); cursor:pointer; transition:.15s; white-space:nowrap; }
.snippet-btn:hover { background:var(--accent); color:#fff; border-color:var(--accent); }
.snippet-add { border-style:dashed; background:transparent; color:var(--text-secondary); border-color:var(--border); }
.snippet-add:hover { background:var(--bg-secondary); color:var(--text-main); border-color:var(--accent); }
.snippet-custom { background:transparent; border-color:var(--border); color:var(--text-main); position:relative; }
.snippet-custom:hover { background:var(--accent); color:#fff; border-color:var(--accent); }

/* Chat image attach */
#chat-image-preview-wrap { padding:5px 0 2px; flex-shrink:0; }
#chat-image-preview-inner { display:inline-flex; align-items:flex-start; position:relative; }
#chatImagePreview { max-height:80px; max-width:120px; border-radius:6px; border:2px solid var(--accent); object-fit:cover; }
#btnRemoveChatImage { position:absolute; top:-6px; right:-6px; background:var(--danger); color:white; border:none; border-radius:50%; width:18px; height:18px; font-size:10px; cursor:pointer; display:flex; align-items:center; justify-content:center; }

.chat-input-area { display:flex; gap:8px; padding-top:8px; border-top:1px solid var(--border); flex-shrink:0; }
.chat-input-wrapper { flex:1; display:flex; align-items:flex-end; gap:4px; border:1px solid var(--border); border-radius:20px; padding:4px 8px 4px 12px; background:var(--bg-header); transition:border-color .2s; }
.chat-input-wrapper:focus-within { border-color:var(--accent); }
.chat-input-wrapper.drag-active { border-color:var(--accent); background:rgba(66,133,244,.06); }
#btnAttachImage { background:none; border:none; cursor:pointer; font-size:16px; padding:4px; border-radius:50%; color:var(--text-secondary); transition:.2s; flex-shrink:0; align-self:flex-end; margin-bottom:4px; }
#btnAttachImage:hover { background:var(--bg-secondary); color:var(--accent); }
#btnChatSend { border-radius:50%; width:42px; height:42px; background:var(--accent); color:white; border:none; cursor:pointer; display:flex; align-items:center; justify-content:center; font-size:16px; flex-shrink:0; align-self:flex-end; transition:background .2s; }
#btnChatSend:hover { background:var(--accent-hover); }
#btnChatSend:disabled { opacity:.4; cursor:not-allowed; }

/* ══ MARKDOWN ════════════════════════════════════════════════ */
.ai-msg h1,.ai-msg h2,.ai-msg h3 { margin:8px 0 4px; color:var(--accent); }
.ai-msg h1{font-size:calc(var(--font-size-chat) + 2px)} .ai-msg h2{font-size:calc(var(--font-size-chat) + 1px)} .ai-msg h3{font-size:var(--font-size-chat)}
.ai-msg p { margin:4px 0; }
.ai-msg ul,.ai-msg ol { margin:4px 0; padding-left:18px; }
.ai-msg li { margin:2px 0; }
.ai-msg code { background:var(--bg-secondary); padding:1px 5px; border-radius:3px; font-family:monospace; font-size:calc(var(--font-size-chat) - 1px); }
.ai-msg pre { background:var(--bg-secondary); border-radius:6px; margin:6px 0; overflow-x:auto; position:relative; }
.ai-msg pre code { background:none; padding:10px; display:block; font-size:calc(var(--font-size-chat) - 1px); line-height:1.5; font-family:'Consolas','Courier New',monospace; }
.code-copy-btn { position:absolute; top:5px; right:5px; background:rgba(0,0,0,.15); border:none; border-radius:4px; font-size:11px; padding:2px 7px; cursor:pointer; opacity:0; transition:opacity .2s; color:var(--text-main); }
.ai-msg pre:hover .code-copy-btn { opacity:1; }

/* ══ LICZNIK TOKENÓW W SEKCJACH ══════════════════════════════ */
.result-token-counter { font-size:11px; color:var(--text-secondary); background:var(--bg-secondary);
  border:1px solid var(--border); border-radius:10px; padding:2px 8px; white-space:nowrap;
  align-self:center; flex-shrink:0; }

/* ══ EXPORT PDF ══════════════════════════════════════════════ */
#btnExportPdf { background:none; border:1px solid var(--border); border-radius:6px;
  color:var(--text-secondary); font-size:11px; padding:4px 10px; cursor:pointer; transition:.2s; }
#btnExportPdf:hover { background:#fce8e6; border-color:#e57373; color:#c62828; }
body.dark-theme #btnExportPdf:hover { background:#3e2020; }

/* ══ EDIT RESULT ACTIONS ════════════════════════════════════ */
#edit-result-actions { margin-top:4px; }
#edit-result-actions .action-btn { font-size:11px; padding:6px 8px; }

/* ══ CODE BLOCK Z POBIERANIEM ════════════════════════════════ */
.code-block-wrapper { margin:6px 0; border-radius:6px; overflow:hidden; border:1px solid var(--border); }
.code-block-header { display:flex; align-items:center; gap:6px; background:var(--bg-secondary); padding:5px 8px; border-bottom:1px solid var(--border); flex-wrap:wrap; }
.code-lang-badge { font-size:10px; font-weight:700; color:var(--text-secondary); text-transform:uppercase; letter-spacing:.5px; background:var(--border); padding:2px 6px; border-radius:4px; flex-shrink:0; }
.code-filename-input { flex:1; min-width:80px; font-size:11px; padding:2px 6px; border:1px solid var(--border); border-radius:4px; background:var(--bg-body); color:var(--text-main); font-family:monospace; }
.code-filename-input:focus { outline:1px solid var(--accent); }
.code-block-actions { display:flex; gap:4px; flex-shrink:0; }
.code-action-btn { background:none; border:1px solid var(--border); border-radius:4px; cursor:pointer; font-size:12px; padding:2px 7px; color:var(--text-secondary); transition:.15s; }
.code-action-btn:hover { border-color:var(--accent); color:var(--accent); background:var(--btn-hover); }
.code-block-wrapper pre { margin:0; border-radius:0; border:none; }
.code-block-wrapper pre code { padding:10px; display:block; }

/* ══ EDIT DROP ZONE ══════════════════════════════════════════ */
.drop-zone-edit { border:2px dashed var(--border); border-radius:10px; padding:18px 12px; display:flex; flex-direction:column; justify-content:center; align-items:center; background:var(--bg-dropzone); margin-bottom:12px; color:var(--text-secondary); transition:.2s; text-align:center; }
.drop-zone-edit p { margin:3px 0; font-size:13px; }
.drop-zone-edit.drag-over { border-color:var(--accent); background:rgba(66,133,244,.07); }
.drop-zone-edit.hidden { display:none !important; }

/* ══ CHAT INPUT – większe pole ═══════════════════════════════ */
#chatInput { flex:1; resize:vertical; min-height:64px; max-height:200px; border:none; background:transparent; font-family:inherit; font-size:var(--font-size-chat); color:var(--text-main); outline:none; padding:6px 0; line-height:1.4; overflow-y:auto; }


.sh-kw{color:#0000ff;font-weight:bold} .sh-str{color:#a31515} .sh-cmt{color:#008000;font-style:italic}
.sh-num{color:#09885a} .sh-fn{color:#795e26} .sh-tag{color:#800000}
.sh-attr{color:#ff0000} .sh-op{color:#000} .sh-bi{color:#267f99}
body.dark-theme .sh-kw{color:#569cd6} body.dark-theme .sh-str{color:#ce9178}
body.dark-theme .sh-cmt{color:#6a9955} body.dark-theme .sh-num{color:#b5cea8}
body.dark-theme .sh-fn{color:#dcdcaa} body.dark-theme .sh-tag{color:#4ec9b0}
body.dark-theme .sh-attr{color:#9cdcfe} body.dark-theme .sh-op{color:#d4d4d4}
body.dark-theme .sh-bi{color:#4fc1ff}

/* ══ TEKST ═══════════════════════════════════════════════════ */
.panel-section { display:flex; flex-direction:column; gap:8px; margin-bottom:12px; }
.hint { font-size:12px; color:var(--text-secondary); margin:0 0 3px; font-style:italic; text-align:center; }
.tool-btn { padding:10px; background:var(--btn-bg); border:1px solid var(--border); border-radius:6px; cursor:pointer; font-size:var(--font-size-ui); font-weight:500; transition:.2s; text-align:left; display:flex; align-items:center; gap:8px; color:var(--text-main); text-decoration:none; }
.tool-btn:hover { background:var(--btn-hover); border-color:var(--accent); }
.tool-btn:disabled { opacity:.6; cursor:not-allowed; }
.result-box { flex:1; background:var(--bg-header); border:1px solid var(--border); border-radius:6px; padding:10px; font-size:var(--font-size-ui); white-space:pre-wrap; color:var(--text-main); min-height:60px; }
.result-actions { display:flex; gap:8px; padding-top:6px; flex-shrink:0; }
.action-btn { flex:1; padding:7px; background:var(--bg-secondary); border:1px solid var(--border); border-radius:6px; cursor:pointer; font-size:12px; color:var(--text-secondary); transition:.2s; }
.action-btn:hover { border-color:var(--accent); color:var(--accent); background:var(--btn-hover); }

/* ══ OBRAZ ═══════════════════════════════════════════════════ */
#drop-zone { border:2px dashed var(--border); border-radius:10px; height:120px; display:flex; flex-direction:column; justify-content:center; align-items:center; background:var(--bg-dropzone); margin-bottom:12px; color:var(--text-secondary); transition:.2s; }
#drop-zone p { margin:3px 0; font-size:13px; }
#drop-zone.drag-over { border-color:var(--accent); background:rgba(66,133,244,.07); }
#btnSelectArea { margin-top:8px; padding:7px 14px; background:#333; color:white; border:none; border-radius:4px; cursor:pointer; font-size:12px; }
body.dark-theme #btnSelectArea { background:#555; }
#image-preview { max-width:100%; max-height:200px; display:block; margin:0 auto; border-radius:4px; }
#image-preview-container { position:relative; margin-bottom:12px; text-align:center; border:1px solid var(--border); padding:5px; background:var(--bg-header); border-radius:6px; }
#btnClearImage { position:absolute; top:5px; right:5px; background:rgba(0,0,0,.6); color:white; border:none; cursor:pointer; padding:3px 8px; border-radius:4px; font-size:11px; }

.img-skeleton { width:100%; height:180px; border-radius:8px; background:linear-gradient(90deg,var(--bg-secondary) 25%,var(--border) 50%,var(--bg-secondary) 75%); background-size:200% 100%; animation:shimmer 1.4s infinite; margin-bottom:8px; }
@keyframes shimmer { 0%{background-position:200% 0} 100%{background-position:-200% 0} }
#gen-result-container { display:flex; flex-direction:column; align-items:center; gap:6px; }
#gen-status { font-size:12px; color:var(--text-secondary); margin:0; }
#generated-image { max-width:100%; border-radius:8px; border:1px solid var(--border); display:none; }
#genPromptInput { width:100%; padding:10px; border:1px solid var(--border); border-radius:6px; background:var(--bg-header); color:var(--text-main); resize:vertical; font-family:inherit; font-size:var(--font-size-ui); }
#genPromptInput:focus { outline:2px solid var(--accent); }
.enhance-label { display:flex; align-items:center; gap:8px; font-size:12px; color:var(--text-secondary); cursor:pointer; padding:4px 0; }
#btnGenerateImage:disabled { opacity:.6; cursor:not-allowed; }
.info-banner { font-size:11px; padding:8px 10px; border-radius:6px; background:var(--info-bg); border:1px solid var(--info-border); color:var(--info-text); margin-bottom:8px; }

/* ══ MODALE (wspólne) ════════════════════════════════════════ */
.hidden { display:none !important; }

#custom-snippets-modal,
#confirm-modal,
#edit-modal,
#settings-modal {
  position:absolute; top:0; left:0; width:100%; height:100%;
  background:rgba(0,0,0,.6); display:flex; justify-content:center;
  align-items:center; z-index:999;
}

.modal-content {
  background:var(--bg-header); padding:20px; width:90%;
  border-radius:10px; box-shadow:0 5px 20px rgba(0,0,0,.5);
  color:var(--text-main); max-height:88vh; overflow-y:auto;
  display:flex; flex-direction:column; gap:10px;
}

.modal-header { display:flex; justify-content:space-between; align-items:center; }
.modal-header h3 { margin:0; color:var(--accent); font-size:15px; }
.modal-close { background:none; border:none; cursor:pointer; font-size:16px; color:var(--text-secondary); padding:4px; border-radius:4px; transition:.2s; }
.modal-close:hover { background:var(--bg-secondary); }

/* Przyciski akcji */
.btn-primary { flex:1; padding:10px; background:var(--accent); color:white; border:none; border-radius:6px; cursor:pointer; font-weight:bold; font-size:13px; transition:.2s; }
.btn-primary:hover { background:var(--accent-hover); }
.btn-secondary { flex:1; padding:10px; background:var(--bg-secondary); color:var(--text-main); border:1px solid var(--border); border-radius:6px; cursor:pointer; font-size:13px; transition:.2s; }
.btn-secondary:hover { border-color:var(--accent); }
.btn-danger { flex:1; padding:10px; background:var(--danger); color:white; border:none; border-radius:6px; cursor:pointer; font-weight:bold; font-size:13px; transition:.2s; }
.btn-danger:hover { background:var(--danger-hover); }

/* ══ MODAL: WŁASNE SNIPPETY ══════════════════════════════════ */
#custom-snippets-list { display:flex; flex-direction:column; gap:6px; min-height:20px; }

.custom-snippet-item { display:flex; align-items:center; gap:8px; background:var(--bg-secondary); border:1px solid var(--border); border-radius:6px; padding:8px 10px; }
.custom-snippet-name { flex:1; font-size:12px; font-weight:600; color:var(--text-main); }
.custom-snippet-prefix { flex:2; font-size:11px; color:var(--text-secondary); white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
.custom-snippet-del { background:none; border:none; cursor:pointer; color:var(--danger); font-size:14px; padding:2px 5px; border-radius:4px; transition:.15s; flex-shrink:0; }
.custom-snippet-del:hover { background:rgba(229,115,115,.15); }

.no-snippets-msg { font-size:12px; color:var(--text-secondary); text-align:center; padding:10px; font-style:italic; }

.snippet-form { display:flex; flex-direction:column; gap:6px; border-top:1px solid var(--border); padding-top:12px; margin-top:4px; }
.snippet-form label { font-size:11px; font-weight:700; color:var(--text-secondary); text-transform:uppercase; }
.snippet-form input, .snippet-form textarea { width:100%; padding:8px; border:1px solid var(--border); border-radius:6px; background:var(--bg-body); color:var(--text-main); font-family:inherit; font-size:12px; resize:vertical; }
.snippet-form input:focus, .snippet-form textarea:focus { outline:2px solid var(--accent); }
.add-snippet-btn { padding:9px; background:var(--accent); color:white; border:none; border-radius:6px; cursor:pointer; font-weight:bold; font-size:13px; transition:.2s; }
.add-snippet-btn:hover { background:var(--accent-hover); }

/* ══ MODAL: POTWIERDZENIE ═════════════════════════════════════ */
.confirm-content { max-width:320px; }
.confirm-content h3 { margin:0 0 4px; font-size:16px; }
.confirm-content p { margin:0 0 16px; font-size:13px; color:var(--text-secondary); }
.confirm-buttons { display:flex; gap:10px; }

/* ══ MODAL: EDYCJA ═══════════════════════════════════════════ */
#editMsgInput { width:100%; padding:10px; border:1px solid var(--border); border-radius:6px; background:var(--bg-body); color:var(--text-main); font-family:inherit; font-size:var(--font-size-chat); resize:vertical; min-height:100px; }
#editMsgInput:focus { outline:2px solid var(--accent); }
.edit-buttons { display:flex; gap:10px; }

/* ══ USTAWIENIA ══════════════════════════════════════════════ */
.settings-content { background:var(--bg-header); padding:20px; width:90%; border-radius:8px; box-shadow:0 5px 15px rgba(0,0,0,.5); color:var(--text-main); max-height:92vh; overflow-y:auto; }
.settings-content h3 { margin-top:0; color:var(--accent); border-bottom:1px solid var(--border); padding-bottom:10px; }
.settings-section { background:var(--settings-section-bg); border:1px solid var(--settings-section-border); border-radius:8px; padding:12px 14px; margin-bottom:12px; }
.settings-section-title { font-size:13px; font-weight:700; color:var(--accent); margin-bottom:10px; }
.settings-content label { display:block; font-weight:600; font-size:11px; margin-bottom:4px; margin-top:10px; color:var(--text-secondary); text-transform:uppercase; letter-spacing:.3px; }
.settings-content label:first-of-type { margin-top:0; }
.settings-content select { width:100%; padding:8px; border:1px solid var(--border); border-radius:4px; background:var(--bg-body); color:var(--text-main); font-size:13px; }
.settings-content select optgroup { font-weight:700; color:var(--text-secondary); background:var(--bg-secondary); }

.key-input-row { display:flex; gap:6px; margin-bottom:2px; }
.key-input-row input { flex:1; padding:8px; border:1px solid var(--border); border-radius:4px; background:var(--bg-body); color:var(--text-main); font-size:13px; }
.key-toggle { background:var(--bg-secondary); border:1px solid var(--border); border-radius:4px; padding:0 10px; cursor:pointer; font-size:14px; color:var(--text-secondary); flex-shrink:0; transition:.2s; }
.key-toggle:hover { border-color:var(--accent); }
.key-validate-btn { padding:0 10px; background:var(--bg-secondary); border:1px solid var(--border); border-radius:4px; cursor:pointer; font-size:12px; font-weight:600; color:var(--text-main); flex-shrink:0; transition:.2s; white-space:nowrap; }
.key-validate-btn:hover { border-color:var(--accent); color:var(--accent); }
.key-validate-btn:disabled { opacity:.5; cursor:not-allowed; }

.key-status { font-size:11px; padding:2px 0 4px; min-height:18px; font-weight:600; }
.key-status.valid { color:var(--success); }
.key-status.invalid { color:var(--danger); }
.key-status.checking { color:var(--text-secondary); }

.settings-hint { font-size:11px; color:var(--text-secondary); margin:3px 0 6px; font-style:italic; }
.keys-note { margin-top:8px; font-style:normal; font-weight:600; }
.checkbox-label { display:flex !important; align-items:center; gap:8px; cursor:pointer; font-weight:normal !important; text-transform:none !important; }

/* Rozmiar czcionki — picker */
.font-size-picker { display:flex; gap:8px; margin-top:4px; }
.font-size-btn { flex:1; padding:8px; border:2px solid var(--border); border-radius:6px; background:var(--bg-body); color:var(--text-main); cursor:pointer; font-weight:700; transition:.2s; }
.font-size-btn:nth-child(1) { font-size:11px; }
.font-size-btn:nth-child(2) { font-size:14px; }
.font-size-btn:nth-child(3) { font-size:17px; }
.font-size-btn.active { border-color:var(--accent); color:var(--accent); background:var(--btn-hover); }
.font-size-btn:hover { border-color:var(--accent); }

/* Skaner */
.scan-row { display:flex; align-items:center; gap:8px; margin-top:8px; flex-wrap:wrap; }
.scan-btn { padding:6px 12px; background:var(--bg-secondary); border:1px solid var(--border); border-radius:6px; cursor:pointer; font-size:12px; color:var(--text-main); transition:.2s; white-space:nowrap; }
.scan-btn:hover { border-color:var(--accent); color:var(--accent); }
.scan-btn:disabled { opacity:.5; cursor:not-allowed; }
.scan-status { font-size:11px; color:var(--text-secondary); font-style:italic; }

#btnSaveSettings { width:100%; background:var(--success); color:white; padding:11px; border:none; border-radius:4px; cursor:pointer; font-weight:bold; margin-top:4px; font-size:14px; }
#btnSaveSettings:hover { filter:brightness(1.1); }
